import{j as s}from"./vendor-ZbFMzY-i.js";import{G as j,S as v,I as S,N as $}from"./ui-components-OHztaiDj.js";import{u as b}from"./useBodyScanPerformance-CZTD3PbH.js";const w="_wrap_1488l_11",y="_card_1488l_33",I="_grid_1488l_47",L="_icon_1488l_57",M="_iconHalo_1488l_81",G="_iconGlyph_1488l_92",H="_center_1488l_98",B="_title_1488l_106",E="_subtitle_1488l_117",F="_rail_1488l_127",O="_seg_1488l_135",z="_segPurple_1488l_143",T="_segPurpleLight_1488l_147",k="_isCurrent_1488l_151",A="_isComplete_1488l_155",R="_fill_1488l_159",q="_fillPurple_1488l_167",D="_fillPurpleLight_1488l_173",J="_step_1488l_180",K="_percent_1488l_189",e={wrap:w,card:y,grid:I,icon:L,iconHalo:M,iconGlyph:G,center:H,title:B,subtitle:E,rail:F,seg:O,segPurple:z,segPurpleLight:T,isCurrent:k,isComplete:A,fill:R,fillPurple:q,fillPurpleLight:D,step:J,percent:K},Q={capture:"Camera",processing:"Scan",review:"Eye",complete:"Check"},X=({steps:l,currentStepId:n,progress:_,message:u,subMessage:p,className:h=""})=>{const d=b(),a=Number.isFinite(_)?Math.min(100,Math.max(0,_)):0,m=100/l.length,t=Math.max(0,l.findIndex(r=>r.id===n)),g=t*m,f=Math.max(0,Math.min(1,(a-g)/m)),x=Q[n]||"Scan";return s.jsx("div",{className:`${e.wrap} ${h}`,"data-step":n,children:s.jsx(j,{className:e.card,children:s.jsxs("div",{className:e.grid,"data-body-forge":!0,children:[s.jsxs("div",{className:e.icon,children:[s.jsx("div",{className:e.iconHalo}),s.jsx(v,{Icon:S[x],size:26,className:e.iconGlyph})]}),s.jsxs("div",{className:e.center,children:[s.jsx("h2",{className:e.title,children:u||"Forge Corporelle"}),p&&s.jsx("p",{className:e.subtitle,children:p}),s.jsx("div",{className:e.rail,role:"progressbar","aria-valuenow":Math.round(a),"aria-valuemin":0,"aria-valuemax":100,children:l.map((r,i)=>{const c=i<t,o=i===t,P=c?"100%":o?`${f*100}%`:"0%",N=i%2===0?e.segPurple:e.segPurpleLight,C=i%2===0?e.fillPurple:e.fillPurpleLight;return s.jsx("div",{className:`${e.seg} ${N} ${c?e.isComplete:""} ${o?e.isCurrent:""}`,children:(c||o)&&s.jsx($,{as:"span",className:`${e.fill} ${C}`,initial:d.enableInitialAnimations?{width:0}:!1,animate:{width:P},transition:d.enableFramerMotion?{duration:.3,ease:"easeOut"}:void 0})},r.id)})}),s.jsxs("div",{className:e.step,children:["Ã‰tape ",t+1," sur ",l.length]})]}),s.jsxs("div",{className:e.percent,"aria-hidden":"true",children:[Math.round(a),"%"]})]})})})};export{X as B};
