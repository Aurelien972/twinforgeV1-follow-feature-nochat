import{l as p}from"./page-fridge-C1QVLxk9.js";function w(){const n=navigator.userAgent.toLowerCase(),t=/ipad|tablet|playbook|silk|(android(?!.*mobi))/i.test(n),e=/mobile|android|iphone|ipod|blackberry|iemobile|opera mini/i.test(n),s=window.screen.width,a=window.screen.height,i=Math.min(s,a);return t||i>=768&&i<1024?"tablet":e||i<768?"mobile":"desktop"}function x(n){const t=n.getExtension("WEBGL_debug_renderer_info");if(!t)return 2;const e=n.getParameter(t.UNMASKED_RENDERER_WEBGL).toLowerCase();return e.includes("nvidia")||e.includes("geforce")||e.includes("radeon")||e.includes("apple m1")||e.includes("apple m2")||e.includes("apple m3")||e.includes("apple a15")||e.includes("apple a16")||e.includes("apple a17")||e.includes("apple a18")||e.includes("adreno 6")||e.includes("adreno 7")||e.includes("mali-g7")||e.includes("mali-g78")||e.includes("mali-g710")||e.includes("xclipse")?3:e.includes("adreno 5")||e.includes("mali-g5")||e.includes("mali-g6")||e.includes("apple a12")||e.includes("apple a13")||e.includes("apple a14")?2:e.includes("intel hd")||e.includes("intel uhd")||e.includes("mali-t")||e.includes("mali-g31")||e.includes("mali-g51")||e.includes("adreno 3")||e.includes("adreno 4")||e.includes("powervr")||e.includes("apple a9")||e.includes("apple a10")||e.includes("apple a11")?1:2}function E(){const n=w(),t=n==="mobile",e=n==="tablet",s=n==="desktop",a=document.createElement("canvas"),i=a.getContext("webgl2")||a.getContext("webgl");if(!i)throw new Error("WebGL not supported on this device");const u=!!a.getContext("webgl2"),d=i.getParameter(i.MAX_TEXTURE_SIZE),l=x(i),g=window.devicePixelRatio||1,m=window.screen.width,b=window.screen.height,c=navigator.hardwareConcurrency||4,r=navigator.deviceMemory||null;let o;s?o=l>=2?"high":"medium":e?o=l>=3?"high":l>=2?"medium":"low":l>=3&&c>=6&&(!r||r>=4)?o="high":l>=2&&c>=4?o="medium":o="low";const h=o==="low"||t&&c<4||r!==null&&r<2||d<2048,f={type:n,performanceLevel:o,isMobile:t,isTablet:e,isDesktop:s,gpuTier:l,maxTextureSize:d,supportsWebGL2:u,devicePixelRatio:g,screenWidth:m,screenHeight:b,hardwareConcurrency:c,deviceMemory:r,isLowEndDevice:h};return p.info("MOBILE_DETECTION","Device capabilities detected",{deviceType:n,performanceLevel:o,gpuTier:l,isLowEndDevice:h,hardwareConcurrency:c,deviceMemory:r,maxTextureSize:d,supportsWebGL2:u,philosophy:"device_capability_detection"}),f}function P(n){const{performanceLevel:t,isMobile:e,isLowEndDevice:s,devicePixelRatio:a}=n;let i;return s||e&&t==="low"?i={pixelRatio:1,shadowsEnabled:!1,shadowMapSize:0,maxLights:3,targetFPS:30,enablePostProcessing:!1,enableProceduralTextures:!1,textureQuality:"low",geometryLOD:"low",enableAutoRotate:!1,enableEnvironmentMap:!1,maxMorphTargets:15,throttleControlsMs:100}:e&&t==="medium"?i={pixelRatio:1.25,shadowsEnabled:!1,shadowMapSize:0,maxLights:4,targetFPS:30,enablePostProcessing:!1,enableProceduralTextures:!1,textureQuality:"medium",geometryLOD:"medium",enableAutoRotate:!1,enableEnvironmentMap:!0,maxMorphTargets:25,throttleControlsMs:50}:e&&t==="high"?i={pixelRatio:Math.min(a,1.5),shadowsEnabled:!1,shadowMapSize:0,maxLights:5,targetFPS:60,enablePostProcessing:!1,enableProceduralTextures:!0,textureQuality:"high",geometryLOD:"high",enableAutoRotate:!1,enableEnvironmentMap:!0,maxMorphTargets:40,throttleControlsMs:16}:n.isTablet?i={pixelRatio:Math.min(a,1.5),shadowsEnabled:t==="high",shadowMapSize:1024,maxLights:6,targetFPS:60,enablePostProcessing:!1,enableProceduralTextures:t==="high",textureQuality:t==="high"?"high":"medium",geometryLOD:t==="high"?"high":"medium",enableAutoRotate:!0,enableEnvironmentMap:!0,maxMorphTargets:40,throttleControlsMs:16}:i={pixelRatio:Math.min(a,2),shadowsEnabled:!0,shadowMapSize:2048,maxLights:10,targetFPS:60,enablePostProcessing:!0,enableProceduralTextures:!0,textureQuality:"high",geometryLOD:"high",enableAutoRotate:!0,enableEnvironmentMap:!0,maxMorphTargets:-1,throttleControlsMs:16},p.info("MOBILE_DETECTION","Performance config generated",{performanceLevel:t,isMobile:e,isLowEndDevice:s,config:i,philosophy:"performance_config_optimization"}),i}export{E as d,P as g};
