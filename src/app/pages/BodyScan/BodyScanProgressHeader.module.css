:root {
  --body-forge-primary: #8B5CF6;  /* Purple pour forge corporelle */
  --body-forge-accent: #A78BFA;   /* Purple clair */
  --body-forge-text: #fff;
  --body-forge-text-dim: rgba(255,255,255,.66);
  --body-forge-text-muted: rgba(255,255,255,.56);
  --body-forge-percent: color-mix(in srgb, var(--body-forge-primary) 82%, white 18%);
}

/* Conteneur : petite marge au-dessus + marge basse */
.wrap {
  width: 100%;
  margin-top: var(--body-forge-mt, 0.75rem);
  margin-bottom: 1rem;
}

/* Carte : padding interne haut/bas légèrement augmenté */
.card {
  padding: 26px 18px;
  background:
    radial-gradient(680px 150px at 12% 0%, color-mix(in srgb, var(--body-forge-primary) 8%, transparent), transparent 60%),
    var(--glass-opacity, rgba(12,16,28,.35)) !important;
  border-color: color-mix(in srgb, var(--body-forge-primary) 26%, rgba(255,255,255,.06)) !important;
  box-shadow:
    0 10px 36px rgba(0,0,0,.30),
    0 0 28px color-mix(in srgb, var(--body-forge-primary) 22%, transparent),
    inset 0 1px 0 rgba(255,255,255,.12) !important;
  border-radius: 20px !important;
}

/* Grille principale */
.grid[data-body-forge] {
  display: grid;
  grid-template-columns: auto 1fr auto;
  grid-template-rows: auto auto auto;
  column-gap: 16px;
  row-gap: 8px;
  align-items: center;
}

/* Icône — centrée verticalement (span 3 lignes) */
.icon {
  grid-column: 1;
  grid-row: 1 / span 3;
  align-self: center;
  justify-self: center;
  width: 60px;
  height: 60px;
  border-radius: 999px;
  position: relative;
  display: grid;
  place-items: center;
  background:
    radial-gradient(60% 60% at 30% 30%, rgba(255,255,255,.20), transparent 60%),
    linear-gradient(140deg,
      color-mix(in srgb, var(--body-forge-accent) 42%, transparent),
      color-mix(in srgb, var(--body-forge-primary) 26%, transparent)
    );
  border: 2px solid color-mix(in srgb, var(--body-forge-primary) 64%, transparent);
  box-shadow:
    inset 0 2px 0 rgba(255,255,255,.35),
    inset 0 -2px 0 rgba(0,0,0,.25),
    0 0 36px color-mix(in srgb, var(--body-forge-primary) 42%, transparent);
}

.iconHalo {
  position: absolute;
  inset: -6px;
  border-radius: inherit;
  background: radial-gradient(circle at 50% 50%,
    color-mix(in srgb, var(--body-forge-accent) 20%, transparent), transparent 65%);
  filter: blur(10px);
  opacity: .85;
  pointer-events: none;
}

.iconGlyph {
  color: #fff;
  filter: drop-shadow(0 2px 10px rgba(139, 92, 246, 0.5)) drop-shadow(0 0 4px rgba(0,0,0,.35));
}

/* Col 2 */
.center {
  grid-column: 2;
  grid-row: 1 / span 3;
  display: grid;
  grid-template-rows: auto auto auto;
}

/* Titre — plus petit + petite marge dessous */
.title {
  margin: 0 0 10px 0;
  font-weight: 800;
  font-size: 19px;
  line-height: 1.15;
  color: var(--body-forge-text);
  letter-spacing: -0.01em;
  text-shadow: 0 2px 8px rgba(0,0,0,0.3);
}

/* Sous-titre — discret et élégant */
.subtitle {
  margin: 0 0 12px 0;
  font-weight: 500;
  font-size: 14px;
  line-height: 1.3;
  color: var(--body-forge-text-dim);
  letter-spacing: 0.005em;
}

/* Barre segmentée (4 segments pour body scan) */
.rail {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr;
  column-gap: 14px;
  align-items: center;
  margin: 0 0 8px 0;
}

.seg {
  position: relative;
  height: 8px;
  border-radius: 999px;
  overflow: hidden;
  transition: box-shadow 240ms ease;
}

.segPurple {
  background: color-mix(in srgb, var(--body-forge-primary) 38%, rgba(255,255,255,.12));
}

.segPurpleLight {
  background: color-mix(in srgb, var(--body-forge-accent) 38%, rgba(255,255,255,.12));
}

.isCurrent {
  box-shadow: 0 0 10px color-mix(in srgb, var(--body-forge-accent) 35%, transparent);
}

.isComplete {
  box-shadow: 0 0 10px color-mix(in srgb, var(--body-forge-primary) 35%, transparent);
}

.fill {
  position: absolute;
  inset: 0 auto 0 0;
  height: 100%;
  border-radius: inherit;
  box-shadow: 0 0 8px rgba(0,0,0,.1);
}

.fillPurple {
  background: linear-gradient(90deg,
    var(--body-forge-primary),
    color-mix(in srgb, var(--body-forge-primary) 60%, transparent));
}

.fillPurpleLight {
  background: linear-gradient(90deg,
    var(--body-forge-accent),
    color-mix(in srgb, var(--body-forge-accent) 60%, transparent));
}

/* Étape (discret) */
.step {
  margin-top: 8px;
  font-size: 12px;
  font-weight: 600;
  letter-spacing: .01em;
  color: var(--body-forge-text-muted);
}

/* Col 3 — % à la hauteur de la barre */
.percent {
  grid-column: 3;
  grid-row: 2;
  align-self: center;
  font-weight: 800;
  font-size: 16px;
  color: var(--body-forge-percent);
  text-shadow: 0 0 10px color-mix(in srgb, var(--body-forge-primary) 28%, transparent);
}

/* Responsive */
@media (max-width: 768px) {
  .card {
    padding: 24px 16px;
  }
  .grid[data-body-forge] {
    column-gap: 12px;
    row-gap: 8px;
  }
  .icon {
    width: 56px;
    height: 56px;
  }
  .title {
    font-size: 18px;
  }
  .rail {
    column-gap: 10px;
  }
  .percent {
    font-size: 15px;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .fill {
    transition: none !important;
  }
}
