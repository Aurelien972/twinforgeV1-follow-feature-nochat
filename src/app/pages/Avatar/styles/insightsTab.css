/**
 * Insights Tab Styles - AI-powered morphology analysis display
 * Optimisé pour InsightsTab, SummaryDashboard, InsightCard
 * VisionOS 26 Style - Mobile-first avec système de priorités visuelles
 */

/* =========================================
   SUMMARY DASHBOARD - Tableau de bord principal
   ========================================= */

.summary-dashboard-container {
  padding: 1.5rem;
  border-radius: 1.5rem;
  backdrop-filter: blur(24px) saturate(160%);
  -webkit-backdrop-filter: blur(24px) saturate(160%);
  transform: translateZ(0);
  contain: layout style paint;
}

.summary-dashboard-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 1.5rem;
  gap: 1rem;
}

/* =========================================
   SUMMARY METRICS GRID
   ========================================= */

.summary-metrics-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1rem;
}

@media (max-width: 1024px) {
  .summary-metrics-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 640px) {
  .summary-metrics-grid {
    gap: 0.75rem;
  }
}

/* =========================================
   SUMMARY METRIC CARD - Individual Metrics
   ========================================= */

.summary-metric-card {
  padding: 1.25rem;
  border-radius: 1.25rem;
  text-align: center;
  backdrop-filter: blur(16px) saturate(140%);
  -webkit-backdrop-filter: blur(16px) saturate(140%);
  transform: translateZ(0);
  contain: layout style paint;
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
  overflow: hidden;
}

.summary-metric-card:hover {
  transform: translateY(-2px) translateZ(0);
}

/* Color variants */
.summary-metric-card--blue {
  background: linear-gradient(135deg,
    color-mix(in srgb, #3B82F6 12%, transparent),
    color-mix(in srgb, #3B82F6 6%, transparent)
  );
  border: 1px solid color-mix(in srgb, #3B82F6 30%, transparent);
  box-shadow: 0 0 20px color-mix(in srgb, #3B82F6 10%, transparent);
}

.summary-metric-card--green {
  background: linear-gradient(135deg,
    color-mix(in srgb, #22C55E 12%, transparent),
    color-mix(in srgb, #22C55E 6%, transparent)
  );
  border: 1px solid color-mix(in srgb, #22C55E 30%, transparent);
  box-shadow: 0 0 20px color-mix(in srgb, #22C55E 10%, transparent);
}

.summary-metric-card--purple {
  background: linear-gradient(135deg,
    color-mix(in srgb, #8B5CF6 12%, transparent),
    color-mix(in srgb, #8B5CF6 6%, transparent)
  );
  border: 1px solid color-mix(in srgb, #8B5CF6 30%, transparent);
  box-shadow: 0 0 20px color-mix(in srgb, #8B5CF6 10%, transparent);
}

.summary-metric-card--orange {
  background: linear-gradient(135deg,
    color-mix(in srgb, #F59E0B 12%, transparent),
    color-mix(in srgb, #F59E0B 6%, transparent)
  );
  border: 1px solid color-mix(in srgb, #F59E0B 30%, transparent);
  box-shadow: 0 0 20px color-mix(in srgb, #F59E0B 10%, transparent);
}

/* =========================================
   SUMMARY METRIC CONTENT
   ========================================= */

.summary-metric-value {
  font-size: 2rem;
  font-weight: 700;
  color: white;
  margin-bottom: 0.5rem;
  font-variant-numeric: tabular-nums;
  line-height: 1;
}

.summary-metric-label {
  font-size: 0.875rem;
  color: rgba(255, 255, 255, 0.7);
  font-weight: 500;
}

/* =========================================
   INSIGHT CATEGORIES - Organizational Sections
   ========================================= */

.insights-category-section {
  margin-bottom: 1.5rem;
}

.insights-category-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
  color: white;
  font-weight: 600;
  font-size: 1.125rem;
}

.insights-category-badge {
  display: inline-flex;
  align-items: center;
  padding: 0.25rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 500;
}

.insights-category-badge--high-priority {
  background: color-mix(in srgb, #EF4444 20%, transparent);
  border: 1px solid color-mix(in srgb, #EF4444 40%, transparent);
  color: #FCA5A5;
}

/* =========================================
   INSIGHTS GRID - Card Layout
   ========================================= */

.insights-cards-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
}

@media (max-width: 768px) {
  .insights-cards-grid {
    grid-template-columns: 1fr;
    gap: 0.75rem;
  }
}

/* =========================================
   INSIGHT CARD - Individual Insight Display
   ========================================= */

.insight-card {
  padding: 1.25rem;
  padding-top: 3rem;
  border-radius: 1.25rem;
  backdrop-filter: blur(16px) saturate(140%);
  -webkit-backdrop-filter: blur(16px) saturate(140%);
  transform: translateZ(0);
  contain: layout style paint;
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
  overflow: visible;
}

.insight-card:hover {
  transform: translateY(-2px) translateZ(0);
}

/* Priority variants */
.insight-card--high-priority {
  background: linear-gradient(135deg,
    color-mix(in srgb, #EF4444 12%, transparent),
    color-mix(in srgb, #EF4444 6%, transparent)
  );
  border: 1px solid color-mix(in srgb, #EF4444 30%, transparent);
  box-shadow: 0 0 20px color-mix(in srgb, #EF4444 10%, transparent);
}

.insight-card--medium-priority {
  background: linear-gradient(135deg,
    color-mix(in srgb, #F59E0B 12%, transparent),
    color-mix(in srgb, #F59E0B 6%, transparent)
  );
  border: 1px solid color-mix(in srgb, #F59E0B 25%, transparent);
}

.insight-card--low-priority {
  background: linear-gradient(135deg,
    color-mix(in srgb, #3B82F6 10%, transparent),
    color-mix(in srgb, #3B82F6 5%, transparent)
  );
  border: 1px solid color-mix(in srgb, #3B82F6 20%, transparent);
}

/* =========================================
   INSIGHT CARD CONTENT
   ========================================= */

.insight-card-header {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  margin-bottom: 1rem;
}

.insight-card-icon-container {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 0.75rem;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transform: translateZ(0);
  contain: layout style;
}

.insight-card-content {
  flex: 1;
  min-width: 0;
}

.insight-card-title {
  font-size: 1rem;
  font-weight: 600;
  color: white;
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

.insight-card-description {
  font-size: 0.875rem;
  color: rgba(255, 255, 255, 0.75);
  line-height: 1.5;
  margin-bottom: 0.75rem;
}

.insight-card-meta {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
}

.insight-card-type-badge {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.5rem;
  border-radius: 9999px;
  background: rgba(255, 255, 255, 0.1);
  color: rgba(255, 255, 255, 0.7);
  font-weight: 500;
}

.insight-card-confidence {
  color: rgba(255, 255, 255, 0.6);
}

/* =========================================
   METADATA BADGES - Compact Information Display
   ========================================= */

.insight-card-badges {
  position: absolute;
  top: 0.75rem;
  right: 0.75rem;
  display: flex;
  gap: 0.375rem;
  flex-wrap: wrap;
  justify-content: flex-end;
  align-items: center;
  z-index: 10;
  max-width: 65%;
}

.insight-metadata-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.5rem;
  border-radius: 9999px;
  font-size: 0.6875rem;
  font-weight: 600;
  backdrop-filter: blur(12px) saturate(140%);
  -webkit-backdrop-filter: blur(12px) saturate(140%);
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  white-space: nowrap;
  contain: layout style;
}

.insight-metadata-badge:hover {
  transform: scale(1.05) translateZ(0);
}

/* Type badges */
.insight-metadata-badge--type-recommendation {
  background: linear-gradient(135deg,
    color-mix(in srgb, #10B981 15%, transparent),
    color-mix(in srgb, #10B981 8%, transparent)
  );
  border: 1px solid color-mix(in srgb, #10B981 40%, transparent);
  color: #6EE7B7;
  box-shadow: 0 0 12px color-mix(in srgb, #10B981 20%, transparent);
}

.insight-metadata-badge--type-observation {
  background: linear-gradient(135deg,
    color-mix(in srgb, #06B6D4 15%, transparent),
    color-mix(in srgb, #06B6D4 8%, transparent)
  );
  border: 1px solid color-mix(in srgb, #06B6D4 40%, transparent);
  color: #67E8F9;
  box-shadow: 0 0 12px color-mix(in srgb, #06B6D4 20%, transparent);
}

.insight-metadata-badge--type-achievement {
  background: linear-gradient(135deg,
    color-mix(in srgb, #22C55E 15%, transparent),
    color-mix(in srgb, #22C55E 8%, transparent)
  );
  border: 1px solid color-mix(in srgb, #22C55E 40%, transparent);
  color: #86EFAC;
  box-shadow: 0 0 12px color-mix(in srgb, #22C55E 20%, transparent);
}

.insight-metadata-badge--type-goal_progress {
  background: linear-gradient(135deg,
    color-mix(in srgb, #8B5CF6 15%, transparent),
    color-mix(in srgb, #8B5CF6 8%, transparent)
  );
  border: 1px solid color-mix(in srgb, #8B5CF6 40%, transparent);
  color: #C4B5FD;
  box-shadow: 0 0 12px color-mix(in srgb, #8B5CF6 20%, transparent);
}

/* Priority badges */
.insight-metadata-badge--priority-high {
  background: linear-gradient(135deg,
    color-mix(in srgb, #EF4444 18%, transparent),
    color-mix(in srgb, #EF4444 10%, transparent)
  );
  border: 1px solid color-mix(in srgb, #EF4444 45%, transparent);
  color: #FCA5A5;
  box-shadow: 0 0 14px color-mix(in srgb, #EF4444 25%, transparent);
}

.insight-metadata-badge--priority-medium {
  background: linear-gradient(135deg,
    color-mix(in srgb, #F59E0B 15%, transparent),
    color-mix(in srgb, #F59E0B 8%, transparent)
  );
  border: 1px solid color-mix(in srgb, #F59E0B 40%, transparent);
  color: #FCD34D;
  box-shadow: 0 0 12px color-mix(in srgb, #F59E0B 20%, transparent);
}

/* Confidence badge */
.insight-metadata-badge--confidence {
  background: linear-gradient(135deg,
    color-mix(in srgb, #3B82F6 15%, transparent),
    color-mix(in srgb, #3B82F6 8%, transparent)
  );
  border: 1px solid color-mix(in srgb, #3B82F6 40%, transparent);
  color: #93C5FD;
  box-shadow: 0 0 12px color-mix(in srgb, #3B82F6 20%, transparent);
}

/* =========================================
   NEW SCAN BUTTON - Bottom CTA
   ========================================= */

.insights-new-scan-button {
  padding: 1rem 2rem;
  border-radius: 9999px;
  font-weight: 600;
  font-size: 1rem;
  color: white;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  min-height: 3.5rem;
  backdrop-filter: blur(16px) saturate(140%);
  -webkit-backdrop-filter: blur(16px) saturate(140%);
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  transform: translateZ(0);
}

/* =========================================
   MOBILE OPTIMIZATIONS
   ========================================= */

@media (max-width: 768px) {
  .summary-dashboard-container {
    padding: 1.25rem;
  }

  .summary-metric-value {
    font-size: 1.75rem;
  }

  .summary-metric-label {
    font-size: 0.8125rem;
  }

  .insight-card {
    padding: 1rem;
    padding-top: 2.5rem;
  }

  .insight-card-icon-container {
    width: 2rem;
    height: 2rem;
  }

  .insight-card-title {
    font-size: 0.9375rem;
  }

  .insight-card-description {
    font-size: 0.8125rem;
  }

  .insights-new-scan-button {
    padding: 0.875rem 1.75rem;
    min-height: 3rem;
  }

  .summary-dashboard-header {
    flex-direction: column;
    align-items: flex-start;
  }

  /* Mobile optimizations for badges */
  .insight-card-badges {
    top: 0.5rem;
    right: 0.5rem;
    gap: 0.25rem;
    max-width: 70%;
  }

  .insight-metadata-badge {
    padding: 0.2rem 0.4rem;
    font-size: 0.625rem;
    gap: 0.2rem;
  }
}

/* =========================================
   REDUCED MOTION SUPPORT
   ========================================= */

@media (prefers-reduced-motion: reduce) {
  .summary-metric-card,
  .insight-card,
  .insights-new-scan-button,
  .insight-metadata-badge {
    transition: none;
  }

  .summary-metric-card:hover,
  .insight-card:hover,
  .insight-metadata-badge:hover {
    transform: translateZ(0);
  }
}

/* =========================================
   PERFORMANCE OPTIMIZATIONS
   ========================================= */

.summary-metric-card,
.insight-card,
.insight-metadata-badge {
  isolation: isolate;
}

/* Low performance mode */
.perf-low .summary-metric-card,
.perf-low .insight-card,
.perf-low .insights-new-scan-button,
.perf-low .insight-metadata-badge {
  backdrop-filter: blur(8px) saturate(120%) !important;
  -webkit-backdrop-filter: blur(8px) saturate(120%) !important;
  box-shadow: none !important;
}
